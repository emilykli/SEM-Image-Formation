<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>SEM Image Formation</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="style.css">

  <script src="libraries/p5.min.js"></script>
  <script src="libraries/p5.sound.min.js"></script>
  <script defer src="https://unpkg.com/p5.collide2d"></script>

  <script>
    lightBoxClose = function () {
      document.querySelector(".lightbox").classList.add("closed");
    }
  </script>

  <script type="text/javascript" src="ui-components/sketch.js"></script>
  <script type="text/javascript" src="ui-components/sampleSelect.js"></script>

</head>

<body>
  <h1>SEM Image Formation Simulation</h1>

  <ul class="horizontal">
    <li id="leftbar">
      <!-- <ul class="verticalLeft" onclick = "setup()"> -->
      <ul class="verticalLeft">
        <li id="rounded-corners">
          <h3 class="box-title">Simulation Controls</p>
            <ul class = "inside-box">
              <li>
                <button class = "circle-button" onclick = "swapPlayPause()"><img id = "play-pause-button" src = "/../assets/play.png"></button>
                <script>
                  var img_array = ["/../assets/play.png", "/../assets/pause.png"]
                  var playPauseIndex = 0;
                  function swapPlayPause()
                  {
                    // console.log("pressed");
                    playPauseIndex = playPauseIndex + 1;
                    playPauseIndex = playPauseIndex%2;
                    document.getElementById("play-pause-button").src = img_array[playPauseIndex];

                    if(playPauseIndex == 1) {
                      playSimulation();
                    }

                    else {
                      pauseSimulation();
                    }
                  }
                </script>
                <button class = 'circle-button' onclick = "resetButton()"><img src = "/../assets/restart.png"></button>
                <script>
                  function resetButton() {
                    if(playPauseIndex == 1)
                    {
                      swapPlayPause();
                    }
                    setup();
                  }
                </script>
              </li>
              <li>
                <div class="slidecontainer">
                  <input type="range" min="1" max="100" value="25" class="slider" id="myRange" onclick = "sliderValueChanged()">
                  <script>
                    function sliderValueChanged() {
                      // console.log(document.getElementById("myRange").value);
                      simulationSpeed = document.getElementById("myRange").value;

                      for(let i = 0; i < electrons.length; i++)
                      {
                        electrons[i].yVelocity = simulationSpeed / 100 * maxElectronVelocity;
                      }
                    }
                  </script>
                </div>
                <div>Animation Speed</div>
              </li>
            </ul>
          
        </li>
        <li id="rounded-corners">
          <h3 class="box-title">Electron Toggles</h3>
          <button class="electron-toggle-button">Emitted</button>
          <button class="electron-toggle-button">Uncaptured</button>
          <button class="electron-toggle-button">Captured</button>
        </li>
        <li id="rounded-corners">
          <h3 class="box-title">Feature Selection</h3>
        </li>
      </ul>
    </li>

    <li id="simulation">
      <div id="sketch-holder">
        <!-- This is where the simulation is-->
      </div>
    </li>

    <li id="rightbar">
      <ul class="verticalRight">
        <li>
          <h3 class="box-title">Resulting SEM Image</p>
        </li>
        <li id="rounded-corners">
          <h3 class="box-title">Isometric View of <br> Feature Topography</h3>
        </li>
      </ul>
    </li>
  </ul>

  <!-- <div class="lightbox">
    <div class="iframeContainer">
      <div class="toolbarLB">
        <span class="closeLB" onclick="lightBoxClose()">x</span>
      </div>
      <p>For best results, use in full screen mode.</p>
    </div>
  </div> -->

</body>

</html>